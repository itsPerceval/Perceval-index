<!DOCTYPE html>
<html>
<style>
 body {
 background-color: rgb(23, 64, 77);
 }
h1 {
color: white;
text-align: center;
font: 100px "Times New Roman", Times, serif;
font-style: italic;
}
p{
color: white;
margin-left: 29%;
font-family: "Comic Sans MS", cursive, sans-serif;
}
</style>
<body>
<h1>Your results:</h1>
<p id="join"></p>
<p id="join2"></p>
<script>
function getUrlVars() {
    var vars = [], hash;
    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
    for(var i = 0; i < hashes.length; i++) {
        hash = hashes[i].split('=');
        vars.push(hash[0]);
        vars[hash[0]] = hash[1];
    }
    return vars;
}
function calculating(){
    var ideology = {polfree: 0, ecofree: 0, socfree: 0, inter: 0};

if (getUrlVars()["size"] === "size1") {
  ideology.socfree = ideology.socfree + 0;
}
if (getUrlVars()["size"] === "size2") {
  ideology.socfree = ideology.socfree + 25;
}
if (getUrlVars()["size"] === "size3") {
  ideology.socfree = ideology.socfree + 50;
}
if (getUrlVars()["size"] === "size4") {
  ideology.socfree = ideology.socfree + 75;
}
if (getUrlVars()["size"] === "size5") {
  ideology.socfree = ideology.socfree + 100;
}
if (getUrlVars()["drugs"] === "drugs1") {
  ideology.socfree = ideology.socfree + 0;
}
if (getUrlVars()["drugs"] === "drugs2") {
  ideology.socfree = ideology.socfree + 25;
}
if (getUrlVars()["drugs"] === "drugs3") {
  ideology.socfree = ideology.socfree + 50;
}
if (getUrlVars()["drugs"] === "drugs4") {
  ideology.socfree = ideology.socfree + 75;
}
if (getUrlVars()["drugs"] === "drugs5") {
  ideology.socfree = ideology.socfree + 100;
}
if (getUrlVars()["guns"] === "guns1") {
  ideology.socfree = ideology.socfree + 0;
}
if (getUrlVars()["guns"] === "guns2") {
  ideology.socfree = ideology.socfree + 25;
}
if (getUrlVars()["guns"] === "guns3") {
  ideology.socfree = ideology.socfree + 50;
}
if (getUrlVars()["guns"] === "guns4") {
  ideology.socfree = ideology.socfree + 75;
}
if (getUrlVars()["guns"] === "guns5") {
  ideology.socfree = ideology.socfree + 100;
}
if (getUrlVars()["eco"] === "eco1") {
  ideology.ecofree = ideology.ecofree + 0;
}
if (getUrlVars()["eco"] === "eco2") {
  ideology.ecofree = ideology.ecofree + 25;
}
if (getUrlVars()["eco"] === "eco3") {
  ideology.ecofree = ideology.ecofree + 50;
}
if (getUrlVars()["eco"] === "eco4") {
  ideology.ecofree = ideology.ecofree + 75;
}
if (getUrlVars()["eco"] === "eco5") {
  ideology.ecofree = ideology.ecofree + 100;
}
if (getUrlVars()["elec"] === "elec1") {
  ideology.polfree = ideology.polfree + 0;
}
if (getUrlVars()["elec"] === "elec2") {
  ideology.polfree = ideology.polfree + 25;
}
if (getUrlVars()["elec"] === "elec3") {
  ideology.polfree = ideology.polfree + 50;
}
if (getUrlVars()["elec"] === "elec4") {
  ideology.polfree = ideology.polfree + 75;
}
if (getUrlVars()["elec"] === "elec5") {
  ideology.polfree = ideology.polfree + 100;
}
if (getUrlVars()["immi"] === "immi1") {
  ideology.inter = ideology.inter + 0;
}
if (getUrlVars()["immi"] === "immi2") {
  ideology.inter = ideology.inter + 25;
}
if (getUrlVars()["immi"] === "immi3") {
  ideology.inter = ideology.inter + 50;
}
if (getUrlVars()["immi"] === "immi4") {
  ideology.inter = ideology.inter + 75;
}
if (getUrlVars()["immi"] === "immi5") {
  ideology.inter = ideology.inter + 100;
}
if (getUrlVars()["abor"] === "abor1") {
  ideology.socfree = ideology.socfree + 100;
}
if (getUrlVars()["abor"] === "abor2") {
  ideology.socfree = ideology.socfree + 75;
}
if (getUrlVars()["abor"] === "abor3") {
  ideology.socfree = ideology.socfree + 50;
}
if (getUrlVars()["abor"] === "abor4") {
  ideology.socfree = ideology.socfree + 25;
}
if (getUrlVars()["abor"] === "abor5") {
  ideology.socfree = ideology.socfree + 0;
}
if (getUrlVars()["tran"] === "tran1") {
  ideology.socfree = ideology.socfree + 100;
}
if (getUrlVars()["tran"] === "tran2") {
  ideology.socfree = ideology.socfree + 75;
}
if (getUrlVars()["tran"] === "tran3") {
  ideology.socfree = ideology.socfree + 50;
}
if (getUrlVars()["tran"] === "tran4") {
  ideology.socfree = ideology.socfree + 25;
}
if (getUrlVars()["tran"] === "tran5") {
  ideology.socfree = ideology.socfree + 0;
}
if (getUrlVars()["nat"] === "nat1") {
  ideology.inter = ideology.inter + 0;
}
if (getUrlVars()["nat"] === "nat2") {
  ideology.inter = ideology.inter + 25;
}
if (getUrlVars()["nat"] === "nat3") {
  ideology.inter = ideology.inter + 50;
}
if (getUrlVars()["nat"] === "nat4") {
  ideology.inter = ideology.inter + 75;
}
if (getUrlVars()["nat"] === "nat5") {
  ideology.inter = ideology.inter + 100;
}
if (getUrlVars()["cont"] === "cont1") {
  ideology.socfree = ideology.socfree + 100;
}
if (getUrlVars()["cont"] === "cont2") {
  ideology.socfree = ideology.socfree + 75;
}
if (getUrlVars()["cont"] === "cont3") {
  ideology.socfree = ideology.socfree + 50;
}
if (getUrlVars()["cont"] === "cont4") {
  ideology.socfree = ideology.socfree + 25;
}
if (getUrlVars()["cont"] === "cont5") {
  ideology.socfree = ideology.socfree + 0;
}
if (getUrlVars()["prov"] === "prov1") {
  ideology.polfree = ideology.polfree + 100;
  ideology.ecofree = ideology.ecofree + 100;
  ideology.socfree = ideology.socfree + 100;
}
if (getUrlVars()["prov"] === "prov2") {
  ideology.polfree = ideology.polfree + 75;
  ideology.ecofree = ideology.ecofree + 75;
  ideology.socfree = ideology.socfree + 75;
}
if (getUrlVars()["prov"] === "prov3") {
  ideology.polfree = ideology.polfree + 50;
  ideology.ecofree = ideology.ecofree + 50;
  ideology.socfree = ideology.socfree + 50;
}
if (getUrlVars()["prov"] === "prov4") {
  ideology.polfree = ideology.polfree + 25;
  ideology.ecofree = ideology.ecofree + 25;
  ideology.socfree = ideology.socfree + 25;
}
if (getUrlVars()["prov"] === "prov5") {
  ideology.polfree = ideology.polfree + 0;
  ideology.ecofree = ideology.ecofree + 0;
  ideology.socfree = ideology.socfree + 0;
}
ideology.polfree = ideology.polfree/2
ideology.ecofree = ideology.ecofree/2
ideology.socfree = ideology.socfree/7
ideology.inter = ideology.inter/2
document.getElementById("join").innerHTML = ideology.polfree.toFixed(0) + " political freedom index (naturalism vs statism)<br >" + ideology.ecofree.toFixed(0) + " economical freedom index (free marketism vs centralism)<br >" + ideology.socfree.toFixed(0) + " social freedom index (individualism vs collectivism)<br >" + ideology.inter.toFixed(0) + " international index (globalism vs localism)<br >";
return ideology;
}

function matching(){
var ideology = calculating();
var ideologies = [{polfree: 100, ecofree: 100, socfree: 100, inter: 50, name: "Anarcho-capitalism"},
    {polfree: 100, ecofree: 100, socfree: 100, inter: 75, name: "Anarcho-primitivism"},
{polfree: 100, ecofree: 75, socfree: 100, inter: 90, name: "Traditional primitivism"},
{polfree: 100, ecofree: 50, socfree: 75, inter: 100, name: "Universalism"},
{polfree: 90, ecofree: 25, socfree: 50, inter: 100, name: "Communalism"},
{polfree: 50, ecofree: 0, socfree: 25, inter: 100, name: "Anarcho-communism"},
{polfree: 50, ecofree: 0, socfree: 25, inter: 75, name: "Anarcho-syndicalism"},
{polfree: 25, ecofree: 0, socfree: 0, inter: 75, name: "Democratic socialism"},
{polfree: 25, ecofree: 0, socfree: 0, inter: 50, name: "Labour unionism"},
{polfree: 25, ecofree: 0, socfree: 0, inter: 25, name: "Social corporatism"},
{polfree: 0, ecofree: 0, socfree: 0, inter: 25, name: "Communism"},
{polfree: 0, ecofree: 0, socfree: 0, inter: 0, name: "National socialism"},
{polfree: 0, ecofree: 25, socfree: 0, inter: 0, name: "Authoritarian-left"},
{polfree: 0, ecofree: 25, socfree: 25, inter: 0, name: "Military junta"},
{polfree: 0, ecofree: 50, socfree: 25, inter: 0, name: "Authoritarian-right"},
{polfree: 50, ecofree: 75, socfree: 50, inter: 0, name: "Paleoconservatism"},
{polfree: 75, ecofree: 100, socfree: 75, inter: 0, name: "Paleolibertarianism"},
{polfree: 25, ecofree: 100, socfree: 100, inter: 25, name: "Libertarianism"},
{polfree: 75, ecofree: 75, socfree: 75, inter: 50, name: "National anarchism"},
{polfree: 75, ecofree: 50, socfree: 50, inter: 75, name: "Communitarianism"},
{polfree: 50, ecofree: 25, socfree: 25, inter: 75, name: "Distributism"},
{polfree: 50, ecofree: 25, socfree: 50, inter: 50, name: "Social liberalism"},
{polfree: 25, ecofree: 25, socfree: 25, inter: 75, name: "Mutualism"},
{polfree: 25, ecofree: 25, socfree: 25, inter: 50, name: "Syndicalism"},
{polfree: 25, ecofree: 25, socfree: 25, inter: 50, name: "Socialism"},
{polfree: 0, ecofree: 25, socfree: 25, inter: 25, name: "Marxism"},
{polfree: 75, ecofree: 75, socfree: 50, inter: 25, name: "Conservatism"},
{polfree: 75, ecofree: 90, socfree: 75, inter: 50, name: "Minarchism"},
{polfree: 75, ecofree: 75, socfree: 90, inter: 50, name: "Classical liberalism"},
{polfree: 50, ecofree: 50, socfree: 50, inter: 50, name: "Centrism"},
{polfree: 50, ecofree: 75, socfree: 50, inter: 25, name: "Republicanism"},
{polfree: 50, ecofree: 75, socfree: 75, inter: 50, name: "Directory republicanism"},
{polfree: 25, ecofree: 50, socfree: 25, inter: 50, name: "Social democracy"},
{polfree: 50, ecofree: 25, socfree: 25, inter: 50, name: "Democracy"},
{polfree: 75, ecofree: 50, socfree: 50, inter: 75, name: "Direct democracy"},
{polfree: 20, ecofree: 50, socfree: 50, inter: 20, name: "Third way"},
{polfree: 25, ecofree: 50, socfree: 50, inter: 25, name: "Synarchism"},
{polfree: 25, ecofree: 25, socfree: 25, inter: 25, name: "Third position"},
{polfree: 80, ecofree: 98, socfree: 90, inter: 10, name: "Schuijrenism"},
];
var percentages = new Array(ideologies.length);
for (var i = 0; i < ideologies.length; i++) {
percentages[i] = {percentage: 0, name: "idk"};
percentages[i].name = ideologies[i].name;
percentages[i].percentage = 1-(Math.abs(ideologies[i].polfree-ideology.polfree)+Math.abs(ideologies[i].ecofree-ideology.ecofree)+Math.abs(ideologies[i].socfree-ideology.socfree)+Math.abs(ideologies[i].inter-ideology.inter))/400;
percentages.sort(function(a, b){return b.percentage - a.percentage});
}
return percentages;
}
var closest = matching();
for (i=0;i<5;i++)
{
document.getElementById("join2").innerHTML = (closest[0].percentage*100).toFixed(2) + "% " + closest[0].name + "<br >" + (closest[1].percentage*100).toFixed(2) + "% " + closest[1].name + "<br >" + 
 (closest[2].percentage*100).toFixed(2) + "% " + closest[2].name + "<br >" + (closest[3].percentage*100).toFixed(2) + "% " + closest[3].name + "<br >" + (closest[4].percentage*100).toFixed(2) + "% " + closest[4].name + "<br >";
}
</script>
</body>
</html>
